
-- Style Pages

local addon = Unboxer
local class = addon:Namespace("rules.collectibles")
local knownIds
local debug = false

-- Collectibles submenu
local submenu = GetString("SI_ITEMFILTERTYPE", ITEMFILTERTYPE_COLLECTIBLE)

class.StylePages  = addon.classes.Rule:Subclass()
function class.StylePages:New()
    return addon.classes.Rule.New(
        self, 
        {
            name          = "outfitstyles",
            exampleItemId = 140309, --	[Style Page: Molag Kena's Shoulder]
            dependencies  = { "excluded" },
            submenu       = submenu,
            title         = GetString(SI_UNBOXER_OUTFITSTYLES),
            tooltip       = GetString(SI_UNBOXER_OUTFITSTYLES_TOOLTIP),
            knownIds      = knownIds,
        }
    )
end

function class.StylePages:Match(data)
    
    if knownIds[data.itemId] -- Match preloaded ids
       or (data.collectibleCategoryType 
           and data.collectibleCategoryType == COLLECTIBLE_CATEGORY_TYPE_OUTFIT_STYLE)
    then
        return true,                     -- isMatch
               data.collectibleUnlocked  -- canUnbox
    end
end

knownIds = {
  [135005] = 1, -- Ragged Style Box
  [147442] = 1, -- Event Style Page: Lyris Titanborn's Helmet
  [147459] = 1, -- Event Style Page: Abner Tharn's Hat
  [140308]=1,[140309]=1,[140310]=1,[140311]=1,[140312]=1,[140313]=1,[140314]=1,[140315]=1,
  [140316]=1,[140317]=1,[140318]=1,[140319]=1,[140320]=1,[140321]=1,[140322]=1,[140323]=1,
  [140324]=1,[140325]=1,[140326]=1,[140327]=1,[140328]=1,[140329]=1,[140330]=1,[140331]=1,
  [140332]=1,[140333]=1,[140334]=1,[140335]=1,[140336]=1,[140337]=1,[140338]=1,[140339]=1,
  [140340]=1,[140341]=1,[140342]=1,[140343]=1,[140344]=1,[140345]=1,[140346]=1,[140347]=1,
  [140348]=1,[140349]=1,[140350]=1,[140351]=1,[140352]=1,[140353]=1,[140354]=1,[140355]=1,
  [140356]=1,[140357]=1,[140358]=1,[140359]=1,[140360]=1,[140361]=1,[140362]=1,[140363]=1,
  [140364]=1,[140365]=1,[140366]=1,[140367]=1,[140368]=1,[140369]=1,[140370]=1,[140371]=1,
  [140372]=1,[140373]=1,[140374]=1,[140375]=1,[140376]=1,[140377]=1,[141977]=1,[141978]=1,
  [141979]=1,[141980]=1,[141981]=1,[141982]=1,[141983]=1,[141984]=1,[141985]=1,[141986]=1,
  [141987]=1,[141988]=1,[141989]=1,[141990]=1,[141991]=1,[141992]=1,[141993]=1,[141994]=1,
  [141995]=1,[141996]=1,[141997]=1,[142010]=1,[142011]=1,[142012]=1,[142013]=1,[142014]=1,
  [142015]=1,[146038]=1,[146040]=1,[146043]=1,[146044]=1,[146045]=1,[146046]=1,[146074]=1,
  [146075]=1,[147301]=1,[147302]=1,[147303]=1,[147304]=1,[147305]=1,[147306]=1,[147307]=1,
  [147309]=1,[147310]=1,[147311]=1,[147312]=1,[147313]=1,[147314]=1,[147315]=1,[147316]=1,
  [147317]=1,[147318]=1,[147319]=1,[147320]=1,[147321]=1,[147322]=1,[147323]=1,[147324]=1,
  [147326]=1,[147327]=1,[147328]=1,[147329]=1,[147330]=1,[147331]=1,[147332]=1,[147333]=1,
  [147334]=1,[147335]=1,[147336]=1,[147337]=1,[147338]=1,[147339]=1,[147341]=1,[147342]=1,
  [147343]=1,[147344]=1,[147345]=1,[147346]=1,[147347]=1,[147348]=1,[147349]=1,[147350]=1,
  [147351]=1,[147352]=1,[147353]=1,[147354]=1,[147355]=1,[147356]=1,[147358]=1,[147359]=1,
  [147360]=1,[147361]=1,[147362]=1,[147363]=1,[147364]=1,[147428]=1,[147429]=1,[147436]=1,
  [147437]=1,[147438]=1,[147439]=1,[147440]=1,[147441]=1,[147443]=1,[147444]=1,
  [147445]=1,[147446]=1,[147447]=1,[147448]=1,[147449]=1,[147450]=1,[147451]=1,[147452]=1,
  [147453]=1,[147454]=1,[147455]=1,[147456]=1,[147457]=1,[147458]=1,[147460]=1,
  [147461]=1,[147462]=1,[147463]=1,[147464]=1,[147465]=1,[147466]=1,[147467]=1,[147468]=1,
  [147469]=1,[147470]=1,[147471]=1,[147472]=1,[147473]=1,[147474]=1,[147475]=1,[147476]=1,
  [147478]=1,[147479]=1,[147480]=1,[147481]=1,[147482]=1,[147483]=1,[147484]=1,[147485]=1,
  [147486]=1,[147487]=1,[147534]=1,[147535]=1,[147536]=1,[147537]=1,[147538]=1,[147539]=1,
  [147540]=1,[147541]=1,[147542]=1,[147543]=1,[147544]=1,[147545]=1,[147546]=1,[147547]=1,
  [147548]=1,[147549]=1,[147550]=1,[147551]=1,[147552]=1,[147553]=1,[147554]=1,[147555]=1,
  [147556]=1,[147557]=1,[147558]=1,[147559]=1,[147560]=1,[147561]=1,[147562]=1,[147563]=1,
  [147601]=1,[147602]=1,[147660]=1,[147661]=1,[147767]=1,[147768]=1,[151561]=1,[151562]=1,
  [151563]=1,[151564]=1,[151565]=1,[151566]=1,[151567]=1,[151568]=1,[151569]=1,[151570]=1,
  [151571]=1,[151572]=1,[151573]=1,[151574]=1,[151575]=1,[151576]=1,[151577]=1,[151578]=1,
  [151579]=1,[151580]=1,[151581]=1,[151582]=1,[151583]=1,[151584]=1,[151585]=1,[151586]=1,
  [151587]=1,[151588]=1,[151916]=1,[151917]=1,[151918]=1,[151919]=1,[151920]=1,[151921]=1,
  [151922]=1,[151923]=1,[151924]=1,[151925]=1,[151926]=1,[151927]=1,[151928]=1,[151929]=1,
  [152121]=1,[152122]=1,[152123]=1,[152124]=1,[152125]=1,[152126]=1,[152127]=1,[152128]=1,
  [152129]=1,[152130]=1,[152131]=1,[152132]=1,[152133]=1,[152134]=1,[152135]=1,[152136]=1,
  [152137]=1,[152138]=1,[152139]=1,[152140]=1,[152252]=1,[152253]=1,[152254]=1,[152255]=1
}